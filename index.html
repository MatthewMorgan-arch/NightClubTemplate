<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lost Property — Quick Upload (Improved OCR + Suggestions)</title>
  <style>
    body { font-family: system-ui, Segoe UI, Helvetica, Arial; max-width:720px; margin:2rem auto; padding:1rem; }
    label { display:block; margin:0.6rem 0; }
    .btn { padding:.6rem .9rem; border-radius:6px; border:0; background:#111; color:#fff; cursor:pointer; }
    .small { font-size:.9rem; color:#555; }
    #overlay { display:none; position:fixed; inset:0; align-items:center; justify-content:center; background:rgba(0,0,0,.6); color:#fff; font-size:1.1rem; z-index:999; }
    input, select, button { font-size:1rem; padding:.4rem; margin-top:.2rem; width:100%; box-sizing:border-box; }
    .hidden { display:none; }
    fieldset { border:1px solid #ddd; border-radius:6px; padding:.8rem; margin-top:1rem; background:#fbfbfb; }
    .ocr-status { font-size:.9rem; color:#444; margin-top:.3rem; }
    .suggestions { margin-top:.6rem; display:flex; gap:.5rem; flex-wrap:wrap; }
    .suggestion { background:#fff; border:1px solid #ddd; padding:.4rem .6rem; border-radius:6px; cursor:pointer; }
    .suggestion:hover { background:#f5f5f5; }
    .image-preview { max-width:100%; margin-top:.6rem; border-radius:6px; border:1px solid #eee; }
    .muted { color:#666; font-size:.9rem; }
  </style>
</head>
<body>
  <h1>Quick Lost Item Upload</h1>
  <p class="small">Scan QR → snap photo → choose category → submit. Takes ~5–10s for OCR. Photos retained 30 days.</p>

  <form id="uploadForm" action="https://hook.eu2.make.com/gkebdrmtjlkwd6wikd1wsmoht4x41p9v" method="post" enctype="multipart/form-data" target="hidden_iframe" autocomplete="off">
    <input type="hidden" name="venue" id="venueInput" value="Club X">

    <label>Photo (required)
      <input type="file" id="photoInput" name="photo" accept="image/*;capture=camera" required>
      <div id="ocrStatus" class="ocr-status muted">No image yet</div>
      <img id="previewImg" class="image-preview hidden" alt="preview">
    </label>

    <label>Category
      <select name="category" id="categorySelect" required>
        <option value="">Select...</option>
        <option>ID</option>
        <option>Wallet</option>
        <option>Phone</option>
        <option>Keys</option>
        <option>Card</option>
        <option>Bag</option>
        <option>Clothing</option>
        <option>Other</option>
      </select>
    </label>

    <label>Short description (required)
      <input name="desc" id="descInput" maxlength="120" placeholder="e.g. black leather wallet" required>
    </label>

    <fieldset id="idFields" class="hidden">
      <legend>ID Details</legend>
      <label>First Name <input name="id_firstName" id="id_firstName" placeholder="First name"></label>
      <label>Last Name <input name="id_lastName" id="id_lastName" placeholder="Last name"></label>
      <label>ID Number (last 4 digits only) <input name="id_number" id="id_number" placeholder="e.g. 1234"></label>

      <div style="margin-top:.6rem">
        <div class="muted">Name suggestions — click to apply (verify before submit):</div>
        <div id="nameSuggestions" class="suggestions"></div>

        <div style="margin-top:.6rem" class="muted">ID candidates (click to apply last 4 digits):</div>
        <div id="idSuggestions" class="suggestions"></div>
      </div>
    </fieldset>

    <fieldset id="walletFields" class="hidden">
      <legend>Wallet — Card Name</legend>
      <label>First Name <input name="wallet_firstName"></label>
      <label>Last Name <input name="wallet_lastName"></label>
    </fieldset>

    <fieldset id="cardFields" class="hidden">
      <legend>Card Details</legend>
      <label>First Name <input name="card_firstName"></label>
      <label>Last Name <input name="card_lastName"></label>
    </fieldset>

    <label>Foun
